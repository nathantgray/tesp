
skinparam classAttributeIconSize 0


abstract Agent {
    + name: str
    + asset: Asset 
    + bidding_strategy: BiddingStrategy 
    + forecasts: Forecasts
    + __init__()
    + get_latest_forecasts()
    + get_device_schedule()
    + get_asset_state()
    + generate_market_signal()
    + send_asset_control()
    + record_metrics()
}
abstract Asset { 
    + asset_name: str 
    + asset_model: AssetModel 
    + asset_state: AssetState 
    + metrics: Metrics 

    + AssetState simulate_asset_operation()
    + void get_asset_state()
    + void send_asset_control_signal() 
} 
abstract AssetState { 
    + asset_state_variables: var 
} 
abstract AssetModel { 
    + asset_model_parameters: var 
} 
abstract BiddingStrategy {
    + asset: Asset 
    + amenity_bid: AuctionBid
    + commodity_bid: AuctionBid 

    + void form_amentity_bid()
    + void coverty_amenity_to_commodity()
}
abstract Bid {   
}
abstract MarketInterface {
    + market_state: MarketStateMachine 

    + void send_market_signal()
    + void get_market_signa()

}
abstract Forecasts{

}
abstract MarketStateMachine {
}
abstract Metrics {
    + update_data()
    + write_out_data()

}
abstract HVACAsset {
}
abstract HVACAssetState {
    + update_asset_state()
}
abstract HVACAssetModel {
    simulate_time_step(time_step_size: DateTime)
}
abstract DoubleAuctionMarketStateMachine {
}
abstract DSOTAgent {
}
abstract BiddingStrategy{
    + solver: SolverEnum
    + get_bid_from_device()
    + send_bid_to_market()
    + get_price_from_market()
    + send_price_to_device()
}
abstract  HVACDSOTBiddingStrategy{
    
}
class HVACDSOTRTBiddingStrategy{

}
class HVACDSOTDABiddingStrategy{
    
}
abstract AuctionBid{
    
}


Agent "1" *-- "1" Asset 
Agent "1" *-- "1" Metrics
Agent "1" *-- "1" Forecasts
Agent "1" *-- "1" BiddingStrategy
BiddingStrategy "1" *-- "1" MarketInterface 
Asset "1" *-- "1" AssetState 
Asset "1" *-- "1" AssetModel 
MarketInterface "1" *-- "1" MarketStateMachine


Bid  <|--  AuctionBid 

Agent  <|--  DSOTAgent
DSOTAgent  <|--  HVACDSOTAgent
Asset  <|--  HVACAsset
HVACAsset  <|--  HVACDSOTAsset
AssetModel  <|--  HVACAssetModel
HVACAssetModel  <|--  HVACDSOTAssetModel
AssetState  <|--  HVACAssetState
HVACAssetState  <|--  HVACDSOTAssetState
BiddingStrategy <|-- HVACDSOTBiddingStrategy
HVACDSOTBiddingStrategy <|-- HVACDSOTRTBiddingStrategy
HVACDSOTBiddingStrategy <|-- HVACDSOTDABiddingStrategy
AuctionBid  <|--  DSOT4pointBid
MarketStateMachine  <|--  DoubleAuctionMarketStateMachine
DoubleAuctionMarketStateMachine  <|--  DSOTRTMarketStateMachine
DoubleAuctionMarketStateMachine  <|--  DSOTDAMarketStateMachine